<div class="cntDiagnostico">
    <div class="cntSearch">
        <div class="form-group">
            <label>Pesquisar por Nome</label>
            <input class="form-control" type="text" maxlength="60" [(ngModel)]='valueSearch'>
        </div>
        <div class="cntButton">
            <span pTooltip='Limpar' tooltipPosition='top'>
                <i class="fas fa-broom"></i>
            </span>
        </div>

    </div>
    <p-table [value]='responseTable' [autoLayout]='true' [columns]='infoTable' [responsive]='true'>
        <ng-template pTemplate="header" let-columns>
            <tr>
                <th *ngFor="let col of columns">
                    {{col.header}}
                </th>
            </tr>
        </ng-template>
        <ng-template pTemplate="body" let-rowData let-columns='columns'>
            <tr>
                <td *ngFor="let col of columns" [style]="col.style || ''">
                    <ng-container [ngSwitch]="col.field">
                        <ng-container *ngSwitchCase="'action'">
                            <div class="cntBtn">
                                <span class="impressao" (click)='impressaoFicha(rowData)'>
                                    Ver mais
                                </span>
                            </div>
                        </ng-container>
                        <ng-container *ngSwitchCase="'dataCadastro'">
                            <div class="cntData">
                                <ng-container *ngFor="let item of rowData?.fichas; let i=index;">
                                    <span class="data"
                                        [ngStyle]="{'border-bottom': i === (rowData?.fichas?.length - 1) ? 'none' : '1px solid #cdcdcd'}">
                                        {{item.dataCadastro | date: 'dd/MM/yyyy'}}
                                    </span>
                                </ng-container>
                            </div>
                        </ng-container>
                        <ng-container *ngSwitchCase="'cpf'">
                            {{rowData[col.field] | mask: '000.000.000-00'}}
                        </ng-container>
                        <ng-container *ngSwitchDefault>
                            {{rowData[col.field]}}
                        </ng-container>
                    </ng-container>
                </td>
            </tr>
        </ng-template>
    </p-table>
</div>

<p-dialog [(visible)]='visibleAllFichas' header='Qual ficha?' [modal]='true' [responsive]='true'>
    <ng-container *ngFor="let item of dataFicha?.fichas; let i=index">
        <div class="ficha"
            [ngStyle]="{'border-bottom': i === (dataFicha?.fichas.length - 1) ? 'none' : '1px solid #cdcdcd'}">
            {{item.dataCadastro | date: 'dd/MM/yyyy'}}
            <span class="button" (click)='visibleFicha(item.dataCadastro)'>
                Selecionar
            </span>
        </div>
    </ng-container>
</p-dialog>

<p-dialog [(visible)]='visiblePDF' [header]="'Paciente: ' + dataFicha?.nome" [style]="{width: '550px'}" [modal]='true'
    [responsive]='true'>
    <div class="dadosFicha">
        <div class="dado" *ngIf="fichaPaciente?.pacienteId">pacienteId	............:<span>{{fichaPaciente?.pacienteId}}</span></div>
<div class="dado" *ngIf="fichaPaciente?.idadeDiscretizado">Idade	............:<span>{{fichaPaciente?.idadeDiscretizado}}</span></div>
<div class="dado" *ngIf="fichaPaciente?.sexo">Sexo	............:<span>{{fichaPaciente?.sexo}}</span></div>
<div class="dado" *ngIf="fichaPaciente?.gestante">Gestante	............:<span>{{fichaPaciente?.gestante}}</span></div>
<div class="dado" *ngIf="fichaPaciente?.tabagismo">Tabagismo	............:<span>{{fichaPaciente?.tabagismo}}</span></div>
<div class="dado" *ngIf="fichaPaciente?.tabagismoAtual">Tabagismo Atual	............:<span>{{fichaPaciente?.tabagismoAtual}}</span></div>
<div class="dado" *ngIf="fichaPaciente?.tabagismoAnterior">Tabagismo Anterior	............:<span>{{fichaPaciente?.tabagismoAnterior}}</span></div>
<div class="dado" *ngIf="fichaPaciente?.etilismo">Etilismo	............:<span>{{fichaPaciente?.etilismo}}</span></div>
<div class="dado" *ngIf="fichaPaciente?.etilismoAtual">Etilismo Atual	............:<span>{{fichaPaciente?.etilismoAtual}}</span></div>
<div class="dado" *ngIf="fichaPaciente?.etilismoAnterior">Etilismo Anterior	............:<span>{{fichaPaciente?.etilismoAnterior}}</span></div>
<div class="dado" *ngIf="fichaPaciente?.ingestaoCafe">Ingestão de Café	............:<span>{{fichaPaciente?.ingestaoCafe}}</span></div>
<div class="dado" *ngIf="fichaPaciente?.cafeMldiaDiscretizado">Quant. Café p/ dia	............:<span>{{fichaPaciente?.cafeMldiaDiscretizado}}</span></div>
<div class="dado" *ngIf="fichaPaciente?.relacaoTrabalho">Relacao de Trabalho	............:<span>{{fichaPaciente?.relacaoTrabalho}}</span></div>
<div class="dado" *ngIf="fichaPaciente?.funcaoTrabalho">Funcao no Trabalho	............:<span>{{fichaPaciente?.funcaoTrabalho}}</span></div>
<div class="dado" *ngIf="fichaPaciente?.contatoPraguicida">Tem Contato com Praguicida	............:<span>{{fichaPaciente?.contatoPraguicida}}</span></div>
<div class="dado" *ngIf="fichaPaciente?.tempoContatoPraguicida">Por quanto tempo tem contato	............:<span>{{fichaPaciente?.tempoContatoPraguicida}}</span></div>
<div class="dado" *ngIf="fichaPaciente?.frequenciaContatoPraguicida">Com qual frequência	............:<span>{{fichaPaciente?.frequenciaContatoPraguicida}}</span></div>
<div class="dado" *ngIf="fichaPaciente?.ultimoContatoPraguicida">Última vez que teve contato	............:<span>{{fichaPaciente?.ultimoContatoPraguicida}}</span></div>
<div class="dado" *ngIf="fichaPaciente?.principioAtivo1">Princípio Ativo	............:<span>{{fichaPaciente?.principioAtivo1}}</span></div>
<div class="dado" *ngIf="fichaPaciente?.formaAplicacao">Forma de Aplicacao	............:<span>{{fichaPaciente?.formaAplicacao}}</span></div>
<div class="dado" *ngIf="fichaPaciente?.nomeComercial">Nome Comercial	............:<span>{{fichaPaciente?.nomeComercial}}</span></div>
<div class="dado" *ngIf="fichaPaciente?.principioAtivo2">Princípio Ativo 2	............:<span>{{fichaPaciente?.principioAtivo2}}</span></div>
<div class="dado" *ngIf="fichaPaciente?.cultura">Cultura	............:<span>{{fichaPaciente?.cultura}}</span></div>
<div class="dado" *ngIf="fichaPaciente?.viaExposicao">Via de Exposicao	............:<span>{{fichaPaciente?.viaExposicao}}</span></div>
<div class="dado" *ngIf="fichaPaciente?.adoeceu">Adoeceu	............:<span>{{fichaPaciente?.adoeceu}}</span></div>
<div class="dado" *ngIf="fichaPaciente?.nVezesAdoeceu">Quantas vezes	............:<span>{{fichaPaciente?.nVezesAdoeceu}}</span></div>
<div class="dado" *ngIf="fichaPaciente?.internado">Já foi internado	............:<span>{{fichaPaciente?.internado}}</span></div>
<div class="dado" *ngIf="fichaPaciente?.nvezesInternado">Quantas vezes	............:<span>{{fichaPaciente?.nvezesInternado}}</span></div>
<div class="dado" *ngIf="fichaPaciente?.quandoInternado">Quando foi	............:<span>{{fichaPaciente?.quandoInternado}}</span></div>
<div class="dado" *ngIf="fichaPaciente?.tipoContato">Tipo de contato	............:<span>{{fichaPaciente?.tipoContato}}</span></div>
<div class="dado" *ngIf="fichaPaciente?.equipamentoProtecao">EPI	............:<span>{{fichaPaciente?.equipamentoProtecao}}</span></div>
<div class="dado" *ngIf="fichaPaciente?.roupaProtecao">Roupa de Protecao	............:<span>{{fichaPaciente?.roupaProtecao}}</span></div>
<div class="dado" *ngIf="fichaPaciente?.botaProtecao">Bota de Protecao	............:<span>{{fichaPaciente?.botaProtecao}}</span></div>
<div class="dado" *ngIf="fichaPaciente?.luvasProtecao">Luvas de Protecao	............:<span>{{fichaPaciente?.luvasProtecao}}</span></div>
<div class="dado" *ngIf="fichaPaciente?.mascaraProtecao">Máscara de Protecao	............:<span>{{fichaPaciente?.mascaraProtecao}}</span></div>
<div class="dado" *ngIf="fichaPaciente?.oculosProtecao">Óculos de Protecao	............:<span>{{fichaPaciente?.oculosProtecao}}</span></div>
<div class="dado" *ngIf="fichaPaciente?.protetorAuricular">Protetor Auricular	............:<span>{{fichaPaciente?.protetorAuricular}}</span></div>
<div class="dado" *ngIf="fichaPaciente?.doencaCardioVascular">Doenças Cardiovascular	............:<span>{{fichaPaciente?.doencaCardioVascular}}</span></div>
<div class="dado" *ngIf="fichaPaciente?.hipertensaoArterial">Hipertensão Arterial	............:<span>{{fichaPaciente?.hipertensaoArterial}}</span></div>
<div class="dado" *ngIf="fichaPaciente?.hipotensaoArterial">Hipotensão Arterial	............:<span>{{fichaPaciente?.hipotensaoArterial}}</span></div>
<div class="dado" *ngIf="fichaPaciente?.arritmia">Arritmia	............:<span>{{fichaPaciente?.arritmia}}</span></div>
<div class="dado" *ngIf="fichaPaciente?.alteracaoSNervoso">Alteração do Sistema Nervoso	............:<span>{{fichaPaciente?.alteracaoSNervoso}}</span></div>
<div class="dado" *ngIf="fichaPaciente?.dorCabeca">Dor de Cabeça	............:<span>{{fichaPaciente?.dorCabeca}}</span></div>
<div class="dado" *ngIf="fichaPaciente?.fraquezaMuscular">Fraque	............:<span>{{fichaPaciente?.fraquezaMuscular}}</span></div>
<div class="dado" *ngIf="fichaPaciente?.tremedeira">Tremedeira	............:<span>{{fichaPaciente?.tremedeira}}</span></div>
<div class="dado" *ngIf="fichaPaciente?.tremorMuscular">Tremor Muscular	............:<span>{{fichaPaciente?.tremorMuscular}}</span></div>
<div class="dado" *ngIf="fichaPaciente?.visaoTurvaEmbacada">Visão Turva/Embaçada	............:<span>{{fichaPaciente?.visaoTurvaEmbacada}}</span></div>
<div class="dado" *ngIf="fichaPaciente?.agitacaoIrritabilidade">Agitacao/Irritabilidade	............:<span>{{fichaPaciente?.agitacaoIrritabilidade}}</span></div>
<div class="dado" *ngIf="fichaPaciente?.vertigensTonturas">Vertigens/Tonturas	............:<span>{{fichaPaciente?.vertigensTonturas}}</span></div>
<div class="dado" *ngIf="fichaPaciente?.formigamento">Formigamento	............:<span>{{fichaPaciente?.formigamento}}</span></div>
<div class="dado" *ngIf="fichaPaciente?.incoordenacaoMotora">Incoordenação Motora	............:<span>{{fichaPaciente?.incoordenacaoMotora}}</span></div>
<div class="dado" *ngIf="fichaPaciente?.aparelhoDigestorio">Aparelho Digestório	............:<span>{{fichaPaciente?.aparelhoDigestorio}}</span></div>
<div class="dado" *ngIf="fichaPaciente?.colicasDorBarriga">Cólicas/Dor de Barriga	............:<span>{{fichaPaciente?.colicasDorBarriga}}</span></div>
<div class="dado" *ngIf="fichaPaciente?.dorEstomago">Dor de Estômago	............:<span>{{fichaPaciente?.dorEstomago}}</span></div>
<div class="dado" *ngIf="fichaPaciente?.aziaQueimacao">Azia Queimação	............:<span>{{fichaPaciente?.aziaQueimacao}}</span></div>
<div class="dado" *ngIf="fichaPaciente?.nauseasEnjoo">Náuseas/Enjoo	............:<span>{{fichaPaciente?.nauseasEnjoo}}</span></div>
<div class="dado" *ngIf="fichaPaciente?.vomito">Vomito	............:<span>{{fichaPaciente?.vomito}}</span></div>
<div class="dado" *ngIf="fichaPaciente?.diarreia">Diarreia	............:<span>{{fichaPaciente?.diarreia}}</span></div>
<div class="dado" *ngIf="fichaPaciente?.aparelhoRespiratorio">Aparelho Respiratório	............:<span>{{fichaPaciente?.aparelhoRespiratorio}}</span></div>
<div class="dado" *ngIf="fichaPaciente?.faltaDeAr">Falta de Ar	............:<span>{{fichaPaciente?.faltaDeAr}}</span></div>
<div class="dado" *ngIf="fichaPaciente?.irritacaoNasal">Irritação Nasal	............:<span>{{fichaPaciente?.irritacaoNasal}}</span></div>
<div class="dado" *ngIf="fichaPaciente?.catarroEscarro">Catarro/Escarro	............:<span>{{fichaPaciente?.catarroEscarro}}</span></div>
<div class="dado" *ngIf="fichaPaciente?.tosse">Tosse	............:<span>{{fichaPaciente?.tosse}}</span></div>
<div class="dado" *ngIf="fichaPaciente?.aparelhoAuditivo">Aparelho Auditivo	............:<span>{{fichaPaciente?.aparelhoAuditivo}}</span></div>
<div class="dado" *ngIf="fichaPaciente?.diminuicaoAudicao">Diminuição da Audiçã	............:<span>{{fichaPaciente?.diminuicaoAudicao}}</span></div>
<div class="dado" *ngIf="fichaPaciente?.zumbido">Zumbido	............:<span>{{fichaPaciente?.zumbido}}</span></div>
<div class="dado" *ngIf="fichaPaciente?.peleMucosa">Pele/Mucosa	............:<span>{{fichaPaciente?.peleMucosa}}</span></div>
<div class="dado" *ngIf="fichaPaciente?.dcSensibilizante">DC-Sensibilizante	............:<span>{{fichaPaciente?.dcSensibilizante}}</span></div>
<div class="dado" *ngIf="fichaPaciente?.dcIrritativa">DC-Irritativa	............:<span>{{fichaPaciente?.dcIrritativa}}</span></div>
<div class="dado" *ngIf="fichaPaciente?.irritacaoOcular">Irritação Ocular	............:<span>{{fichaPaciente?.irritacaoOcular}}</span></div>
<div class="dado" *ngIf="fichaPaciente?.aparelhoUrinario">Aparelho Urinário	............:<span>{{fichaPaciente?.aparelhoUrinario}}</span></div>
<div class="dado" *ngIf="fichaPaciente?.diminuicaoUrina">Diminuição de urina	............:<span>{{fichaPaciente?.diminuicaoUrina}}</span></div>
<div class="dado" *ngIf="fichaPaciente?.urinaescuraSangue">Urina escura/sangue	............:<span>{{fichaPaciente?.urinaescuraSangue}}</span></div>
<div class="dado" *ngIf="fichaPaciente?.outro">Outro	............:<span>{{fichaPaciente?.outro}}</span></div>
<div class="dado" *ngIf="fichaPaciente?.exposicaoRaiox">Exposição à Raio-X	............:<span>{{fichaPaciente?.exposicaoRaiox}}</span></div>
<div class="dado" *ngIf="fichaPaciente?.quandodiasExposicao">Quando	............:<span>{{fichaPaciente?.quandodiasExposicao}}</span></div>
<div class="dado" *ngIf="fichaPaciente?.teveCancer">Teve Câncer	............:<span>{{fichaPaciente?.teveCancer}}</span></div>
<div class="dado" *ngIf="fichaPaciente?.sncCancer">SNC Câncer	............:<span>{{fichaPaciente?.sncCancer}}</span></div>
<div class="dado" *ngIf="fichaPaciente?.digestorioCancer">Câncer Sistema Digestrório	............:<span>{{fichaPaciente?.digestorioCancer}}</span></div>
<div class="dado" *ngIf="fichaPaciente?.respiratorioCancer">Câncer Sistema Respiratório	............:<span>{{fichaPaciente?.respiratorioCancer}}</span></div>
<div class="dado" *ngIf="fichaPaciente?.reprodutorCancer">Câncer Sistema Reprodutor	............:<span>{{fichaPaciente?.reprodutorCancer}}</span></div>
<div class="dado" *ngIf="fichaPaciente?.glandularCancer">Câncer Glandular	............:<span>{{fichaPaciente?.glandularCancer}}</span></div>
<div class="dado" *ngIf="fichaPaciente?.peleOssoSangueCancer">Câncer Pele/Osso/Sangue	............:<span>{{fichaPaciente?.peleOssoSangueCancer}}</span></div>
<div class="dado" *ngIf="fichaPaciente?.familiaCancer">Câncer na Família	............:<span>{{fichaPaciente?.familiaCancer}}</span></div>
<div class="dado" *ngIf="fichaPaciente?.sncCancerFamilia">Câncer SNC na Família	............:<span>{{fichaPaciente?.sncCancerFamilia}}</span></div>
<div class="dado" *ngIf="fichaPaciente?.digestorioCancerfamilia">Câncer Sistema Digestrório na Familia	............:<span>{{fichaPaciente?.digestorioCancerfamilia}}</span></div>
<div class="dado" *ngIf="fichaPaciente?.respiratorioCancerfamilia">Câncer Sistema Respiratório na Fami	............:<span>{{fichaPaciente?.respiratorioCancerfamilia}}</span></div>
<div class="dado" *ngIf="fichaPaciente?.reprodutorCancerfamilia">Câncer Sistema Reprodutor na Familia	............:<span>{{fichaPaciente?.reprodutorCancerfamilia}}</span></div>
<div class="dado" *ngIf="fichaPaciente?.glandularCancerfamilia">Câncer Glandular na Familia	............:<span>{{fichaPaciente?.glandularCancerfamilia}}</span></div>
<div class="dado" *ngIf="fichaPaciente?.peleOssoSangueCancerfamilia">Câncer Pele/Osso/Sangue na Familia	............:<span>{{fichaPaciente?.peleOssoSangueCancerfamilia}}</span></div>
<div class="dado" *ngIf="fichaPaciente?.edaRegiao">É da mesma região	............:<span>{{fichaPaciente?.edaRegiao}}</span></div>
<div class="dado" *ngIf="fichaPaciente?.ch_t_discretizado">ch_t	............:<span>{{fichaPaciente?.ch_t_discretizado}}</span></div>
<div class="dado" *ngIf="fichaPaciente?.ch_e_discretizado">ch_e	............:<span>{{fichaPaciente?.ch_e_discretizado}}</span></div>
<div class="dado" *ngIf="fichaPaciente?.ch_p_discretizado">ch_p	............:<span>{{fichaPaciente?.ch_p_discretizado}}</span></div>
<div class="dado" *ngIf="fichaPaciente?.ast_discretizado">ast	............:<span>{{fichaPaciente?.ast_discretizado}}</span></div>
<div class="dado" *ngIf="fichaPaciente?.alt_discretizado">alt	............:<span>{{fichaPaciente?.alt_discretizado}}</span></div>
<div class="dado" *ngIf="fichaPaciente?.y_gt_discretizado">y_gt	............:<span>{{fichaPaciente?.y_gt_discretizado}}</span></div>
<div class="dado" *ngIf="fichaPaciente?.creatininaDiscretizado">Creatina	............:<span>{{fichaPaciente?.creatininaDiscretizado}}</span></div>
<div class="dado" *ngIf="fichaPaciente?.ambulatorio">Ambulatório	............:<span>{{fichaPaciente?.ambulatorio}}</span></div>
<div class="dado" *ngIf="fichaPaciente?.habitoAlimentarDiscretizado">Habito Alimentar	............:<span>{{fichaPaciente?.habitoAlimentarDiscretizado}}</span></div>
<div class="dado" *ngIf="fichaPaciente?.imcDiscretizado">IMC	............:<span>{{fichaPaciente?.imcDiscretizado}}</span></div>
<div class="dado" *ngIf="fichaPaciente?.circunferenciaAbdominalDiscretizado">Circunferência Abdominal	............:<span>{{fichaPaciente?.circunferenciaAbdominalDiscretizado}}</span></div>
<div class="dado" *ngIf="fichaPaciente?.dificuldadeEngravidar">Dificuldade p/ Engravidar	............:<span>{{fichaPaciente?.dificuldadeEngravidar}}</span></div>
<div class="dado" *ngIf="fichaPaciente?.abortoEspontaneo">Aborto Espontâneo	............:<span>{{fichaPaciente?.abortoEspontaneo}}</span></div>
<div class="dado" *ngIf="fichaPaciente?.temFilhos">Tem Filhos	............:<span>{{fichaPaciente?.temFilhos}}</span></div>
<div class="dado" *ngIf="fichaPaciente?.filhoMaFormacao">Filho com Má Formação	............:<span>{{fichaPaciente?.filhoMaFormacao}}</span></div>
<div class="dado" *ngIf="fichaPaciente?.medicamentoContinuo">Medicamento Contínuo	............:<span>{{fichaPaciente?.medicamentoContinuo}}</span></div>
<div class="dado" *ngIf="fichaPaciente?.remedioMicose">Remédio Micose	............:<span>{{fichaPaciente?.remedioMicose}}</span></div>
<div class="dado" *ngIf="fichaPaciente?.nomeRemedio">Nome do Remédio	............:<span>{{fichaPaciente?.nomeRemedio}}</span></div>
<div class="dado" *ngIf="fichaPaciente?.siglaDiagnostico">Sigla do Diagnóstico	............:<span>{{fichaPaciente?.siglaDiagnostico}}</span></div>
    </div>
    <div class="btnImpressao" pTooltip='Imprimir' tooltipPosition='bottom'>
        <button (click)='printPDF()'>
            <i class="fas fa-file-pdf"></i>
        </button>
    </div>
</p-dialog>